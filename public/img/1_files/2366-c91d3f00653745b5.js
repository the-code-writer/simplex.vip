!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d63e04b3-1acc-489a-adca-45fc2e46e95c",e._sentryDebugIdIdentifier="sentry-dbid-d63e04b3-1acc-489a-adca-45fc2e46e95c")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2366],{68464:function(e,t,r){r.d(t,{TN:function(){return l},YS:function(){return o},p4:function(){return n},zY:function(){return a}});var n="text-surface-foreground-2 hover:$text-surface-foreground-2 $text-sm $no-underline $font-semibold",a="$flex $justify-between $items-center",l="$font-semibold $text-surface-foreground-2 $leading-normal $mb-15",o="$flex $flex-col $gap-40"},66835:function(e,t,r){r.d(t,{g:function(){return l}});var n=r(52983),a=r(10997);let l=()=>{let e=(0,n.useContext)(a.K);if(!e)throw Error("useDetailPostDownloadActions must be used within a DetailPostDownloadContext");return e}},63011:function(e,t,r){r.d(t,{K:function(){return o}});var n=r(97458),a=r(33523),l=r(40197);let o=e=>{let{isLoading:t,children:r,badges:o,className:i,...s}=e;return(0,n.jsxs)("div",{className:(0,l.m6)("relative mx-auto max-w-full overflow-hidden sm:rounded-xl transition-all",i),"data-cy":"resource-detail-preview",...s,children:[o&&!t&&(0,n.jsx)("div",{className:"absolute left-5 top-5 flex gap-1 sm:rounded-xl",children:o}),r,t&&(0,n.jsx)(a.O.Rect,{className:"absolute inset-0 h-auto"})]})}},68243:function(e,t,r){r.d(t,{$:function(){return s}});var n=r(97458),a=r(770),l=r(24985),o=r(10893),i=r(92387);let s=()=>{let{t:e}=(0,o.$G)("detail");return(0,n.jsxs)(i.m,{className:"px-4",children:[(0,n.jsx)(a.J,{as:l.Z,size:"sm"}),e("aiGenerated")]})}},92387:function(e,t,r){r.d(t,{m:function(){return l}});var n=r(97458),a=r(40197);let l=e=>{let{children:t,className:r}=e;return(0,n.jsx)("span",{className:(0,a.m6)("flex px-2 h-8 items-center justify-center rounded-full bg-neutral-900/60 text-white gap-2 text-xs font-semibold",r),children:t})}},64437:function(e,t,r){r.d(t,{T:function(){return d}});var n=r(97458),a=r(65122),l=r(770),o=r(9249),i=r(92336),s=r(83273),u=r(10893),c=r(92387);let d=()=>{let{t:e}=(0,u.$G)("common"),t=(0,a.e)();return(0,n.jsxs)(c.m,{className:"aspect-square size-8",children:[!t&&(0,n.jsx)(l.J,{as:s.Z,size:"sm",className:"text-premium-gold-500"}),t&&(0,n.jsx)(l.J,{as:i.Z,size:"sm"}),(0,n.jsx)(o.T,{children:e("premium")})]})}},11926:function(e,t,r){r.d(t,{C:function(){return u}});var n=r(97458),a=r(24278),l=r(41122),o=r(68464),i=r(92866);let s=()=>{let{relatedResources:e,isCrossSellEnabled:t,type:r,id:l}=(0,a.ph)(),s=(0,i.Qw)({relatedResources:e,type:r,id:l,isCrossSellEnabled:t});return s&&0!==s.length?(0,n.jsx)("div",{className:o.YS,children:s}):null},u=()=>{let{loadingState:e}=(0,a.ph)();return(0,l.h)(e)?null:(0,n.jsx)(s,{})}},92866:function(e,t,r){r.d(t,{Qw:function(){return v}});var n=r(97458),a=r(53344),l=r.n(a),o=r(52983);let i=l()(()=>Promise.all([r.e(7092),r.e(582),r.e(2690),r.e(3377),r.e(6573)]).then(r.bind(r,9514)).then(e=>e.DetailRelatedAuthorCarousel),{loadableGenerated:{webpack:()=>[9514]}}),s=l()(()=>Promise.all([r.e(7092),r.e(582),r.e(2690),r.e(3377),r.e(9487)]).then(r.bind(r,74240)).then(e=>e.DetailRelatedCollectionCarousel),{loadableGenerated:{webpack:()=>[74240]}}),u=l()(()=>Promise.all([r.e(7092),r.e(582),r.e(2690),r.e(3377),r.e(3724)]).then(r.bind(r,51706)).then(e=>e.DetailRelatedSerieCarousel),{loadableGenerated:{webpack:()=>[51706]}}),c=l()(()=>Promise.all([r.e(7092),r.e(582),r.e(2690),r.e(3377),r.e(5523)]).then(r.bind(r,38179)).then(e=>e.DetailRelatedSuggestedCarousel),{loadableGenerated:{webpack:()=>[38179]}}),d=l()(()=>Promise.all([r.e(1633),r.e(8454),r.e(8238),r.e(582),r.e(8114),r.e(6165),r.e(3334)]).then(r.bind(r,73334)).then(e=>e.DetailRelatedVideos),{loadableGenerated:{webpack:()=>[73334]}}),m=l()(()=>Promise.all([r.e(7092),r.e(582),r.e(2690),r.e(3377),r.e(8022)]).then(r.bind(r,61890)).then(e=>e.DetailRelatedCrossSelling),{loadableGenerated:{webpack:()=>[61890]}}),f=e=>{let{relatedResources:t,type:r,id:a}=e;return{series:(0,n.jsx)(u,{series:t.series},"carousel-series"),suggested:(0,n.jsx)(c,{suggested:t.suggested},"carousel-suggested"),collection:(0,n.jsx)(s,{collection:t.collection},"carousel-collection"),author:(0,n.jsx)(i,{author:t.author},"carousel-author"),relatedVideos:(0,n.jsx)(d,{videos:t.relatedVideos},"carousel-videos"),relatedPhotos:(0,n.jsx)(m,{crossSellType:"photo",type:r,id:a,items:t.relatedPhotos},"carousel-cross-sell-photos"),relatedVectors:(0,n.jsx)(m,{crossSellType:"vector",type:r,id:a,items:t.relatedVectors},"carousel-cross-sell-vectors"),relatedPsds:(0,n.jsx)(m,{crossSellType:"psd",type:r,id:a,items:t.relatedPsds},"carousel-cross-sell-psds")}},h=e=>{let{carouselsNames:t,relatedResources:r,type:n,id:a}=e,l=f({relatedResources:r,type:n,id:a}),i=0;return t.map(e=>{let t=r[e];if(!t)return null;let n="items"in t;if(n&&t.items.length||!n&&t.length)return i++,(0,o.cloneElement)(l[e],{order:i})}).filter(Boolean).slice(0,4)},g=e=>{let{relatedResources:t,type:r,id:n}=e;return h({carouselsNames:["series","suggested","collection","author"],relatedResources:t,type:r,id:n})},p=e=>{let{relatedResources:t,type:r,id:n}=e,a={vector:["series","relatedVectors","collection","relatedPsds","relatedPhotos","relatedVideos"],photo:["series","relatedPhotos","collection","relatedPsds","relatedVectors","relatedVideos"],psd:["series","relatedPsds","collection","relatedPhotos","relatedVectors","relatedVideos"]}[r];return a?h({carouselsNames:a,relatedResources:t,type:r,id:n}):[]},v=e=>{let{relatedResources:t,type:r,id:n,isCrossSellEnabled:a=!1}=e;return(0,o.useMemo)(()=>a?p({relatedResources:t,type:r,id:n}):g({relatedResources:t,type:r,id:n}),[n,a,t,r])}},89236:function(e,t,r){r.d(t,{I:function(){return eo}});var n=r(97458),a=r(24921),l=r(29456);let o=e=>{let t=new URL(e,"http://www.freepik.com");return t.search="",t.hash="",t.pathname};var i=r(87420),s=r(53344),u=r.n(s),c=r(52983),d=r(40308),m=r(51523),f=r(90580),h=r(31154),g=r(47149),p=r(10318),v=r(86610),w=r(7616),x=r(44932),b=r(79895);let k=()=>{let e=(0,b.C)(),[t,r]=(0,w.KO)(x.Db),n=(0,c.useRef)(!1);(0,c.useEffect)(()=>{"remove-background"!==t||n.current||(e(),n.current=!0,r(null))},[e,t,r,n])};var y=r(28372),j=r(61821),_=r(71788),P=r(6583);let C=()=>{let{type:e,premium:t,slug:r,id:n,isAIGenerated:a}=(0,P.p)(),l=(0,_.k)(t,e,a),o="".concat(r,"_").concat(n,".htm");return"".concat(l,"/").concat(o)};var R=r(35576),T=r(7009),S=r(41122);let D=()=>{let{id:e,type:t,relatedResources:r,loadingState:n}=(0,P.p)(),a=(0,T.J)(),o=(0,l.H)(),i=(0,S.h)(n);(0,c.useEffect)(()=>{if(!o||i||!r)return;let n=Object.keys(r);if(!(n.length&&n.some(e=>{let t=r[e];return t&&"items"in t?t.items.length>0:t&&t.length>0}))){let r="send&event&related&empty-alsolike&".concat(e,"&").concat(t).concat(a);(0,R.OA)(r)}},[e,i,o,r,t,a])};var I=r(45588),E=r(7526);let N=()=>{let{id:e,regularType:t,relatedTags:r}=(0,P.p)(),a="/".concat(E.J5[t]),l=(0,I.$Y)(a,r);return(0,n.jsx)(I.dM,{tags:l,resourceId:e})};var $=r(58058),G=r.n($),V=r(10893);let L=()=>{let e=(0,i.L3)(),t="#from_element=resource_detail",r="".concat(e("/ai")).concat(t),a="".concat(e("/ai/image-generator")).concat(t);return(0,n.jsx)("div",{className:"overflow-hidden text-xs text-surface-foreground-2 md:text-center",children:(0,n.jsx)(V.cC,{i18nKey:"detail:aiDisclaimerText",components:{1:(0,n.jsx)("a",{href:r,className:"pl-1 text-surface-foreground-accent-0"}),2:(0,n.jsx)(G(),{href:a,className:"pl-1 text-surface-accent-0"})}})})};var M=r(57291),B=r(63011),q=r(68243),H=r(770),z=r(9249),J=r(30061),U=r(92387);let A=()=>{let{t:e}=(0,V.$G)("common");return(0,n.jsxs)(U.m,{children:[(0,n.jsx)(z.T,{children:e("disneyResource")}),(0,n.jsx)(H.J,{as:J.Z,size:"sm"})]})};var O=r(64437);let K=[360,740,1060,1480,2e3],F=e=>(0,c.useMemo)(()=>{if(!e)return null;let t=e.includes("?")?"&":"?";return K.map(r=>{let n="".concat(e).concat(t,"w=").concat(r);return"".concat(n," ").concat(r,"w")}).join(", ")},[e]);var Q=r(30948),W=r(52600);let Z=e=>{let{height:t,width:r}=e,n="(min-aspect-ratio: ".concat(r,"/").concat(t,") 100%"),{xs:a,lg:l}=W.BREAKPOINTS;return"(max-width: ".concat(a,"px) 100vw, ").concat(n,", (max-width: ").concat(l,"px) calc(100vw - 40px), calc(100vw - 540px)")},Y=u()(()=>Promise.all([r.e(2606),r.e(582),r.e(2690),r.e(3347),r.e(7829)]).then(r.bind(r,68579)).then(e=>e.RegularDetailPostDownload),{loadableGenerated:{webpack:()=>[68579]},ssr:!1}),X=u()(()=>Promise.all([r.e(1184),r.e(7967),r.e(9139)]).then(r.bind(r,99139)).then(e=>e.RegularDetailPreviewLoading),{loadableGenerated:{webpack:()=>[99139]},ssr:!1}),ee=u()(()=>r.e(2705).then(r.bind(r,42705)).then(e=>e.RemoveBackgroundPreview),{loadableGenerated:{webpack:()=>[42705]},ssr:!1}),et=e=>{var t,r,a,l,o;let{isModal:i=!1}=e,[s,u]=(0,c.useState)(!1),[d,m]=(0,c.useState)(!1),f=(0,c.useRef)(null),h=(0,c.useRef)(null),{premium:g,isAIGenerated:v,isAiToolsEnabled:w,author:{id:x},name:b,preview:{width:k,height:y,url:j},loadingState:_}=(0,P.p)(),C=F(j),R=en(j),T=Z({height:y,width:k}),S=x===Q.c,D=(null===(t=f.current)||void 0===t?void 0:t.complete)&&(null===(r=f.current)||void 0===r?void 0:r.naturalWidth)!==0,I=(null===(a=h.current)||void 0===a?void 0:a.complete)&&(null===(l=h.current)||void 0===l?void 0:l.naturalWidth)!==0,{maxHeight:E,maxHeightMobile:N}=er({isAIGenerated:v,isAiToolsEnabled:w,isModal:i});return(0,c.useEffect)(()=>{D&&!s&&u(!0)},[D,s]),(0,c.useEffect)(()=>{I&&!d&&m(!0)},[I,d]),(0,n.jsxs)(B.K,{isLoading:i&&!d,style:{"--detail-preview-max-height":E,"--detail-preview-max-height-mobile":N,aspectRatio:"1 / ".concat(y/k)},className:"max-h-[--detail-preview-max-height-mobile] xs:max-h-[--detail-preview-max-height]",badges:(0,n.jsxs)(n.Fragment,{children:[g&&(0,n.jsx)(O.T,{}),S&&(0,n.jsx)(A,{}),v&&(0,n.jsx)(q.$,{})]}),children:[!s&&(0,n.jsx)("img",{ref:h,src:R,width:k,height:y,alt:b,fetchpriority:"high",className:"size-full object-contain sm:rounded-xl",onLoad:()=>{m(!0)}},"preview-image-".concat(j)),"loading"!==_&&(0,n.jsx)("img",{ref:f,src:null!==(o=(0,p.m)(j))&&void 0!==o?o:j,srcSet:null!=C?C:void 0,width:k,height:y,alt:b,fetchpriority:"high",sizes:T,onLoad:()=>{u(!0)},className:(0,M.cx)("size-full object-contain sm:rounded-xl",!s&&"opacity-0")},j),(0,n.jsx)(ee,{}),(0,n.jsx)(Y,{}),(0,n.jsx)(X,{})]})},er=e=>{let{isAIGenerated:t,isAiToolsEnabled:r,isModal:n}=e,a=n?225:260;return{maxHeight:"calc(100vh - ".concat(a+(t?35:0)+(r?60:0),"px)"),maxHeightMobile:"calc(100vh - ".concat(a,"px)")}},en=e=>{var t;let r=(0,w.Dv)(x.G4),n=null!==(t=(0,p.m)(e))&&void 0!==t?t:e;return r&&(n="".concat(n,"?").concat(r)),n},ea=u()(()=>Promise.all([r.e(1633),r.e(8454),r.e(9203),r.e(7092),r.e(8238),r.e(7120),r.e(582),r.e(2690),r.e(2093),r.e(1214)]).then(r.bind(r,42506)).then(e=>e.RegularDetailPrimaryBar),{loadableGenerated:{webpack:()=>[42506]},ssr:!1}),el=u()(()=>Promise.all([r.e(7177),r.e(8780),r.e(5644),r.e(582),r.e(2690),r.e(528),r.e(1748)]).then(r.bind(r,45669)).then(e=>e.RegularDetailSmartBar),{loadableGenerated:{webpack:()=>[45669]},ssr:!1}),eo=e=>{var t;let{children:r,isModal:a=!1}=e,{id:l,type:o,preview:{url:s},seo:u,languageLinks:c,isAIGenerated:m,isAiToolsEnabled:w}=(0,j.ph)(),x=C(),{isEditToolsLoading:b}=(0,v.TV)();k();let{headTitle:y,description:_}=u||{},P=null==c?void 0:c.map(e=>{let{language:t,url:r}=e;return{lang:t,href:r}}),R=null==P?void 0:null===(t=P.find(e=>"en"===e.lang))||void 0===t?void 0:t.href,T=(0,p.m)(s);ec(a,x),D();let{locale:S}=(0,i.Vx)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Seo,{title:y,description:_,image:T?{width:1200,height:676,url:T}:void 0,alternates:P&&{langs:P,default:R},onlyNoIndex:m&&"es"===S}),(0,n.jsx)(d._,{id:l,type:o,location:"resource_detail",children:(0,n.jsx)(h.g,{id:l,type:o,children:(0,n.jsx)(f.m,{primaryBar:(0,n.jsx)(ei,{}),author:(0,n.jsx)(eu,{}),preview:(0,n.jsx)(et,{isModal:a}),smartBar:w&&(0,n.jsx)(es,{}),previewCaption:m&&(0,n.jsx)(L,{}),keywords:(0,n.jsx)(N,{}),isModal:a,isActionInProgress:b,children:r},l)})})]})},ei=()=>{let e=(0,l.H)(),{loadingState:t}=(0,j.ph)();return"loading"!==t&&e?(0,n.jsx)(ea,{}):null},es=()=>{let e=(0,l.H)(),{loadingState:t}=(0,j.ph)();return"loading"!==t&&e?(0,n.jsx)(el,{}):null},eu=()=>{let{author:e,seo:t,name:r}=(0,j.ph)(),{detailTitle:a}=t||{};return(0,n.jsx)(m.K,{resourceName:null!=a?a:r,resourceType:"regular",author:e})},ec=(e,t)=>{let{name:r,author:n,premium:l,id:i,loadingState:s}=(0,j.ph)(),u=null!==(0,y.b)(),{contentGroup:d}=(0,j.hv)(),m=(0,c.useCallback)(r=>{let{asPath:n}=r;return"loading"!==s&&(!!e||!u)&&o(n)===t},[t,e,s,u]),f=(0,c.useMemo)(()=>({content_group:"resource_detail",content_group2:d,content_type:l?"premium":"free",file_name:r,file_id:i,author_name:n.name}),[n.name,d,i,l,r]);(0,a.R)(f,m)}},10318:function(e,t,r){r.d(t,{m:function(){return n}});let n=e=>{if(!e)return null;let{pathname:t,origin:r}=new URL(e);return"".concat(r).concat(t)}},21223:function(e,t,r){r.d(t,{e:function(){return n}});let n=(0,r(52983).createContext)(null)},74481:function(e,t,r){r.d(t,{S:function(){return c}});var n=r(97458),a=r(51780),l=r(52983),o=r(90925),i=r(42432),s=r(21223);let u=()=>{let[e,t]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[a,o]=(0,l.useState)(!1);return(0,l.useMemo)(()=>({isRemoveBackgroundLoading:r,setIsRemoveBackgroundLoading:n,removeBackgroundAnimationEnd:e,setRemoveBackgroundAnimationEnd:t,forceRemoveBackgroundButtonTooltip:a,setForceRemoveBackgroundButtonTooltip:o}),[a,r,e])},c=e=>{let{children:t}=e,{asPath:r}=(0,a.useRouter)(),[c,d]=(0,l.useState)(),[m,f]=(0,l.useState)("original"),[h,g]=(0,l.useState)(void 0),[p,v]=(0,l.useState)(void 0),[w,x]=(0,o.i)(),b=u(),{externalUrl:k}=(0,i.Q)(),{setRemoveBackgroundAnimationEnd:y,setIsRemoveBackgroundLoading:j}=b,_=(0,l.useCallback)(()=>{"transparent"===m&&y(!1),j(!1),f("original"),g(void 0),v(void 0)},[m,j,y]),P=b.isRemoveBackgroundLoading,C=(0,l.useMemo)(()=>({...b,imagePreviewMode:m,setImagePreviewMode:f,editedImageDimensions:c,setEditedImageDimensions:d,isRemoveBackgroundActive:"transparent"===m,isExpandActive:"expand"===m,isEditToolsLoading:P,setImageModeToOriginal:_,lastEditedImage:p,lastEditTool:h}),[c,m,P,h,p,b,_]);return(0,l.useEffect)(()=>{f("original"),y(!0)},[r,y]),(0,l.useEffect)(()=>{"transparent"===m&&(v(k),g(m))},[m,k]),(0,l.useEffect)(()=>{x(P)},[P,x]),(0,n.jsx)(s.e.Provider,{value:C,children:t})}},86610:function(e,t,r){r.d(t,{Sq:function(){return n.S},TV:function(){return a.T},ql:function(){return l.q}});var n=r(74481),a=r(11028),l=r(51518)},11028:function(e,t,r){r.d(t,{T:function(){return l}});var n=r(52983),a=r(21223);let l=()=>{let e=(0,n.useContext)(a.e);if(null===e)throw Error("useEditToolsState must be used within a DetailEditToolsContext");return e}},51518:function(e,t,r){r.d(t,{q:function(){return l}});var n=r(52983),a=r(11028);let l=()=>{let{isRemoveBackgroundLoading:e,setIsRemoveBackgroundLoading:t,removeBackgroundAnimationEnd:r,setRemoveBackgroundAnimationEnd:l,forceRemoveBackgroundButtonTooltip:o,setForceRemoveBackgroundButtonTooltip:i,isRemoveBackgroundActive:s}=(0,a.T)();return(0,n.useMemo)(()=>({isRemoveBackgroundLoading:e,setIsRemoveBackgroundLoading:t,removeBackgroundAnimationEnd:r,setRemoveBackgroundAnimationEnd:l,forceRemoveBackgroundButtonTooltip:o,setForceRemoveBackgroundButtonTooltip:i,isRemoveBackgroundActive:s}),[e,t,r,l,o,i,s])}},78809:function(e,t,r){r.d(t,{h:function(){return x}});var n=r(52983),a=r(88107);let l=["pixel-art","illustration","surreal","comic","fantasy","anime","digital-art","vintage","photo","all-styles"],o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l.includes(e)},i=["1:1","1:2","2:1","2:3","3:4","4:5","9:16","3:2","4:3","16:9","custom"],s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.includes(e)},u=["crop","light","color","tint","grain","rotate","presets"],c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return u.includes(e)},d=["createSocialPost","createPoster","createFlyer","mixImages","applyPromo"],m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.includes(e)},f=["remove","insert"],h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return f.includes(e)},g={video:"ai_video_generator",adjust:"adjust",reimagine:"reimagine",expand:"expand",removebg:"background",retouch:"retouch",replacebg:"background",generatePrompt:"ai_image_generator",styleReference:"ai_image_generator",assistant:"assistant",workflow:"assistant"},p=(e,t)=>{if("removebg"===e)return"remove";if("replacebg"===e)return"replace";if("reimagine"===e&&o(t))return"all-styles"===t?"style":"style__".concat(t);if("expand"===e&&s(t))return"aspect_ratio__".concat(t);if("adjust"===e&&c(t)||"retouch"===e&&h(t))return t;if("generatePrompt"===e)return"prompt__image_reference";if("styleReference"===e)return"style__image_reference";if("workflow"===e&&m(t)){if("createSocialPost"===t)return"workflow__create_post";if("createPoster"===t)return"workflow__create_poster";if("createFlyer"===t)return"workflow__create_flyer";if("mixImages"===t)return"workflow__mix_images";if("applyPromo"===t)return"workflow__apply_promo";throw Error("Invalid subOption: ".concat(t))}return"ai_gen"},v=(e,t)=>({tool:g[e],eventName:p(e,t),businessLine:"ai_tools,content"}),w=()=>{let e=(0,a.D)();return(0,n.useCallback)(t=>{let{tool:r,subOption:n}=t;return e({...v(r,n)})},[e])},x=e=>{let{tool:t,subOption:r}=e;return w()({tool:t,subOption:r})}},41868:function(e,t,r){r.d(t,{P:function(){return l}});var n=r(88578),a=r(7616);let l=(e,t)=>((0,a.Dv)(n.UH)||t)&&!e},42432:function(e,t,r){r.d(t,{Q:function(){return i}});var n=r(7616),a=r(52983),l=r(6583),o=r(28831);let i=()=>{let{id:e}=(0,l.p)(),{url:t,uuid:r,externalUrl:i}=(0,n.Dv)((0,o.u)(e))||{};return(0,a.useMemo)(()=>({url:t,uuid:r,externalUrl:i}),[i,t,r])}},79895:function(e,t,r){r.d(t,{C:function(){return ei}});var n=r(8147);let a=e=>{var t;let r=(0,n.H)();return null!==(t=null==r?void 0:r.spendPerTool[e])&&void 0!==t?t:0};var l=r(52983),o=r(66835),i=r(55201),s=r(78809),u=r(6583),c=r(86610),d=r(45451);let m=(e,t,r)=>"resource_detail".concat(e?"":"_free","_").concat(null!=t?t:"ai_tools").concat(r?"_".concat(r):""),f=e=>{let{tool:t,subOption:r,isResourcePremium:n}=e;return(0,l.useCallback)(()=>{(0,d.sendGTMEvent)({event:"ga4event",event_name:"ai_tool",action:t,location:m(n,t,r)})},[n,r,t])};var h=r(41937),g=r(18444),p=r(90312),v=r(65724),w=r(61821),x=r(71597);let b=(e,t)=>{let r=(0,h.I)(),n=(0,g.w)(),{setLoginCookies:a,signUpUrl:o}=(0,p.e)(),i=m(e,"removebg"),{name:u,preview:c}=(0,w.ph)(),d=(0,s.h)({tool:"removebg"}),{contentGroup:f}=(0,x.h)(),b=(0,v.W)(t,f,i);return(0,l.useCallback)(()=>{if(r){a(),window.location.href=o;return}b({modalType:n?"usesLimit":"premiumContent",resourceData:{name:u,mediaUrl:c.url,mediaWidth:c.width,mediaHeight:c.height,resourceType:"regular"},checkoutQueryParams:d})},[r,a,o,b,u,c.url,c.width,c.height,d,n])};var k=r(11924);let y=e=>{let{handleLog:t}=(0,k.N)();return(0,l.useCallback)(r=>{let{tool:n,subOption:a}=r;t({target:e,action:j[n],actionParam:a,timestamp:new Date})},[t,e])},j={removebg:"removebg",replacebg:"replacebg",retouch:"retouch",expand:"expand",adjust:"adjust",styleReference:"styleReference",generatePrompt:"generatePrompt",video:"generateVideo",reimagine:"reimagine",upscaleVideo:"upscaleVideo",generateSoundEffect:"generateSoundEffect",generateIcon:"generateIcon",editIcon:"editIcon",assistant:"assistant",workflow:"workflow"};var _=r(65122),P=r(20176),C=r(85229),R=r(64979),T=r(11645),S=r(2394);let D=e=>E()(e),I={removebg:"freepik-tools-integration-remove-bg",retouch:"pikaso-edition",expand:"pikaso-edition",reimagine:"pikaso-reimagine",replacebg:"pikaso-bg-replacer",video:"pikaso-video-kling",generatePrompt:"pikaso-tti",styleReference:"pikaso-tti",assistant:"pikaso-edition"},E=()=>{let e=(0,n.H)(),t=(0,h.I)(),r=(0,g.w)(),a=(0,S.E)(),o=(0,T.u)(),i=null==e?void 0:e.permissions;return(0,l.useCallback)(e=>{let n=I[e];if(a)return!n||o(n);if(!i)return!1;let{canUseIA:l}=i,s=l&&!t,u=s&&!r;return({replacebg:s&&u,retouch:s,removebg:s,expand:s,reimagine:s,adjust:!t,video:s&&u,generatePrompt:s&&u,styleReference:s&&u,assistant:s,workflow:s})[e]},[a,i,t,r,o])},N=e=>{let{tool:t,subOption:r,resourceData:n,checkoutQueryParams:a}=e,o=(0,h.I)(),i=D(t),s=(0,_.e)(),{setLoginCookies:u,signUpUrl:c}=(0,p.e)(),d=(0,v.W)(n.id),m=(null==n?void 0:n.premium)||!1,f=s||!m,{isUserWinback:g,showWinbackModal:w}=(0,C.l)(),{showDeviceBlockedModal:x,isDeviceBlocked:b}=(0,P.q)();return(0,l.useCallback)(()=>b?(x(),!0):g?(w(),!0):(!f||!i)&&(o&&f&&!$(t,r)?(u(),window.location.href=c):d({resourceData:{name:null==n?void 0:n.name,mediaUrl:n.preview.url,mediaWidth:n.preview.width,mediaHeight:n.preview.height,resourceType:"regular"},checkoutQueryParams:a}),!0),[b,g,f,i,o,t,r,d,null==n?void 0:n.name,n.preview.url,n.preview.width,n.preview.height,a,x,w,u,c])},$=(e,t)=>R.xQ.includes(e)||t&&R.Zq.includes(t);var G=r(41868),V=r(42432),L=r(24278),M=r(85119),B=r(59243),q=r(43186),H=r(49168);let z=()=>{let{premium:e,id:t}=(0,u.p)(),{setIsRemoveBackgroundLoading:r}=(0,c.ql)(),n=(0,q.J)(),a=(0,B.L)(),o=(0,M.E)(),i=b(e,t);return(0,l.useCallback)(async e=>{let t=(0,H.L)(),l=await fetch("/api/ai/remove-background",{method:"POST",body:JSON.stringify({resourceId:e,uuid:t,walletId:a,creditsTransaction:!!a})});if(await n(),429===l.status)return r(!1),i(),null;if(!l.ok)throw Error("Failed to remove background");if(200===l.status){let{transactionId:e,walletId:r}=await l.json();return a||o(r),{uuid:t,transactionId:e}}return{uuid:t}},[o,i,r,a,n])};var J=r(17842),U=r(10893);let A=()=>{let{openToast:e}=(0,J.x_)(),{t}=(0,U.$G)("detail"),{setIsRemoveBackgroundLoading:r}=(0,c.ql)();return(0,l.useCallback)(()=>{e({type:"danger",title:t("removeBackground.errorTitle"),message:t("removeBackground.errorMessage"),duration:3e3}),r(!1)},[e,t,r])},O=async e=>{let{uuidTaskTracker:t,isLastCall:r=!1,walletId:n}=e;if(!t)return;let a=new URLSearchParams({uuid:t,...r&&{isLastCall:"1"},...n&&{walletId:n}}),l=await fetch("/api/ai/remove-background-check?".concat(a.toString()));if(200!==l.status)return null;let{image_url:o}=await l.json();return o},K=e=>fetch(e).then(e=>e.blob()).then(e=>new Promise(t=>{let r=new FileReader;r.onload=function(){t(this.result)},r.readAsDataURL(e)}));var F=r(30143);let Q=(e,t)=>{let r=new Image;r.onload=function(){let e=document.createElement("canvas"),n=e.getContext("2d");if(e.width=r.width,e.height=r.height,!n){t(!1);return}n.drawImage(r,0,0);let a=n.getImageData(0,0,e.width,e.height).data;for(let e=0;e<a.length;e+=4)if(0!==a[e+3]){t(!0);return}t(!1)},r.src=e};var W=r(65508);let Z=()=>(0,l.useCallback)(()=>{(0,W.loadSpace)("bb6a004a-8f03-4d2a-88fb-a63499d4591a").then(e=>{e.init(),e.logEvent("remove_bg")})},[]);var Y=r(7616),X=r(28831);let ee=()=>{let{id:e}=(0,L.ph)(),{setIsRemoveBackgroundLoading:t}=(0,c.ql)(),r=(0,Y.b9)((0,X.u)(e)),{setImagePreviewMode:n}=(0,c.TV)();return(0,l.useCallback)(e=>{let{imageWithoutBackgroundBase64:a,imageWithoutBackgroundUrl:l,uuid:o}=null!=e?e:{};t(!1),n("transparent"),a&&o&&l&&r({url:a,uuid:o,externalUrl:l})},[n,t,r])},et=()=>{let e=A(),t=ee(),{id:r,premium:n,regularType:a}=(0,L.ph)(),o=(0,F.mS)(),i=Z();return(0,l.useCallback)(async(l,s)=>{try{let u=await K(l);Q(u,c=>{if(!c){e();return}t({imageWithoutBackgroundUrl:l,imageWithoutBackgroundBase64:u,uuid:s}),o({resourceId:r,isResourcePremium:n,resourceType:a,downloadType:R.os}),i()})}catch(t){e()}},[t,o,r,n,a,i,e])};var er=r(59445),en=r(93477);let ea=()=>{let e=(0,er.HI)(),t=(0,en.t)();return(0,l.useCallback)(()=>{if(e){let r={...e};r.spendPerTool.removeBackgroundIntegrationTool-=1,t(r)}},[e,t])},el=()=>{let e=(0,l.useRef)(0),t=(0,l.useRef)(null),r=et(),n=A(),a=(0,q.J)(),o=ea(),i=(0,B.L)();return(0,l.useCallback)(l=>{t.current=setInterval(async()=>{if(e.current>=R.wj){t.current&&clearInterval(t.current),n();return}e.current+=1;let s=e.current===R.wj,u=await O({uuidTaskTracker:l,isLastCall:s,walletId:i});u&&(r(u,l),await a(),o(),t.current&&clearInterval(t.current))},R._R)},[r,n,o,a,i])},eo=()=>{let{id:e,premium:t,regularType:r,url:n}=(0,L.ph)(),{setIsRemoveBackgroundLoading:a}=(0,c.ql)(),o=A(),i=el(),s=z(),u=(0,l.useCallback)(()=>{(0,d.sendGTMEvent)({event:"ga4event",event_name:"background_remove",category:r,file_id:e,license:t?"premium":"free",location:m(t,"removebg"),url_link:n})},[e,t,r,n]);return(0,l.useCallback)(async()=>{try{u();let t=await s(e);if(!t){a(!1);return}let{uuid:r}=t;i(r)}catch(e){o()}},[a,u,s,e,i,o])},ei=()=>{let e=eo(),t=(0,u.p)(),{id:r,premium:n}=t,{isRemoveBackgroundActive:d,setRemoveBackgroundAnimationEnd:m,setIsRemoveBackgroundLoading:h,forceRemoveBackgroundButtonTooltip:g}=(0,c.ql)(),{setImageModeToOriginal:p}=(0,c.TV)(),{url:v}=(0,V.Q)(),w=ee(),x=(0,G.P)(!!v,g),k=b(n,r),j=(0,s.h)({tool:"removebg"}),_=a("removeBackgroundIntegrationTool"),P=N({tool:"removebg",resourceData:t,checkoutQueryParams:j}),C=f({tool:"removebg",isResourcePremium:n}),{closePostDownload:R}=(0,o.g)(),T=y(t.type);return(0,l.useCallback)(async()=>{if(!d&&(C(),T({tool:"removebg"}),m(!1),!P())){if(_<=0&&!v){k();return}if(p(),h(!0),R(),window.dispatchEvent(new CustomEvent(i.h)),v){w();return}if(x){k(),h(!1);return}await e()}},[d,C,T,m,P,_,v,p,h,R,x,e,k,w])}},28831:function(e,t,r){r.d(t,{u:function(){return o}});var n=r(24399),a=r(73139);let l=(0,n.cn)({}),o=(0,a.xu)(e=>(0,n.cn)(t=>t(l)[e],(t,r,n)=>{r(l,t=>({...t,[e]:n}))}))},88107:function(e,t,r){r.d(t,{D:function(){return i}});var n=r(52983),a=r(33247),l=r(64237),o=r(6583);let i=()=>{let{author:{name:e},premium:t,type:r,isAIGenerated:i,isEditableInWepik:s,isEditableInMockup:u}=(0,o.p)(),c=(0,l.y)({isEditableInWepik:s,isEditableInMockup:u}),d=(0,a.R)();return(0,n.useCallback)(n=>{let{eventName:a,editor:l,businessLine:o,tool:s}=n;return d({type:r,subtype:c,authorName:e,isPremium:t,isAIGenerated:i,eventName:a,pageType:"detail",editor:l,businessLine:o,tool:s})},[e,d,i,t,c,r])}},41122:function(e,t,r){r.d(t,{h:function(){return a}});var n=r(52983);let a=e=>(0,n.useMemo)(()=>e&&"loading"===e,[e])},39266:function(e,t,r){var n=r(97458);t.Z=e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,n.jsx)("path",{d:"m151.856 397 163.322-163.322c9.763-9.763 9.763-25.592 0-35.355s-25.592-9.763-35.355 0l-181 181C93.941 384.203 91.5 390.602 91.5 397s2.441 12.796 7.322 17.678l181 181c9.764 9.763 25.592 9.763 35.355 0s9.763-25.592 0-35.355z"})})}}]);